<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Game page</title>
  </head>
  <style>
    html{height: 100%;}
    body{margin: 0;height:100%}
    .row{display:flex; margin: 0; width: 100%; height: 100%} 
    .column{ margin: 0}
    .side {width: 25%;margin: 0}
    .middle{width:50%;margin: 0}
    .full-screen-div{height: 100vh; width: 100vw;background-color: blueviolet;}

    .grid-div{
      width: 80%; 
      height: 80%; 
      border-color: black;
      border-width: 1px;
      border-style: solid;
      background-color: grey;
      margin-left: auto; /* auto margin-left = push to right */
      margin-right: auto; /* auto both margins = centered */
      margin-top: 5%;
      display: flex; /* prevent child div overflowing */
      flex-direction: column;
    }
    .grid-row{
      width: 100%;
      height: 20%;
      flex-direction: row;
      display: flex;
    }
    .grid-cell{
      width: 20%;
      height: 100%;
      margin: 0%;
      border-color: black;
      border-width: 1px;
      border-style: solid;
      display: flex;
    }
    .grid-cell.pointer{
      outline: 3px solid limegreen;
      background-color: chartreuse;
    }
  </style>

  <body>
    <div class="row">
      <div class = "column side" style="background-color: aqua;">This is to the left</div>
      <div class = "column middle" style="background-color: aliceblue">
        <div class = "grid-div">
          <div class = "grid-row" id="row 0">
            <div class = "grid-cell" id="cell 0"></div>
            <div class = "grid-cell" id="cell 1"></div>
            <div class = "grid-cell" id="cell 2"></div>
            <div class = "grid-cell" id="cell 3"></div>
            <div class = "grid-cell" id="cell 4"></div>
          </div>
          <div class = "grid-row" id="row 1">
            <div class = "grid-cell" id="cell 5"></div>
            <div class = "grid-cell" id="cell 6"></div>
            <div class = "grid-cell" id="cell 7"></div>
            <div class = "grid-cell" id="cell 8"></div>
            <div class = "grid-cell" id="cell 9"></div>
          </div>
          <div class = "grid-row" id="row 2">
            <div class = "grid-cell" id="cell 10"></div>
            <div class = "grid-cell" id="cell 11"></div>
            <div class = "grid-cell" id="cell 12"></div>
            <div class = "grid-cell" id="cell 13"></div>
            <div class = "grid-cell" id="cell 14"></div>
          </div>
          <div class = "grid-row" id="row 3">
            <div class = "grid-cell" id="cell 15"></div>
            <div class = "grid-cell" id="cell 16"></div>
            <div class = "grid-cell" id="cell 17"></div>
            <div class = "grid-cell" id="cell 18"></div>
            <div class = "grid-cell" id="cell 19"></div>
          </div>
          <div class = "grid-row" id="row 4">
            <div class = "grid-cell" id="cell 20"></div>
            <div class = "grid-cell" id="cell 21"></div>
            <div class = "grid-cell" id="cell 22"></div>
            <div class = "grid-cell" id="cell 23"></div>
            <div class = "grid-cell" id="cell 24"></div>
          </div>
        </div>
      </div>
      <div class = "column side" style="background-color: salmon">This is to the right</div>
    </div>
    <!-- <div class="full-screen-div">The watcher</div> -->
     <script>
      const cells = Array.from(document.querySelectorAll('.grid-div .grid-cell'));
      let idx = 0;
      const COLS = 5, ROWS = 5;
      function setPointer(newIdx) {
        cells[idx]?.classList.remove('pointer');
        idx = newIdx;
        cells[idx]?.classList.add('pointer');
        // ensure the focused cell is scrolled into view if container ever scrolls
        cells[idx]?.scrollIntoView({ block: 'nearest', inline: 'nearest' });
      }
      setPointer(Math.floor(Math.random()*25));

      // Click to move pointer
      cells.forEach((cell, i) => {
        cell.addEventListener('click', () => setPointer(i));
      });

      // Keyboard movement (arrow keys). Prevent page scroll on arrow keys.
      document.addEventListener('keydown', (e) => {
        const key = e.key;
        let next = idx;
        const col = idx % COLS;
        const row = Math.floor(idx / COLS);

        if (key === 'ArrowRight') { if (col < COLS - 1) next = idx + 1; e.preventDefault(); }
        else if (key === 'ArrowLeft') { if (col > 0) next = idx - 1; e.preventDefault(); }
        else if (key === 'ArrowDown') { if (row < ROWS - 1) next = idx + COLS; e.preventDefault(); }
        else if (key === 'ArrowUp') { if (row > 0) next = idx - COLS; e.preventDefault(); }

        if (next !== idx) setPointer(next);
      });

      // Optional: WASD support (gamers rise)
      document.addEventListener('keydown', (e) => {
        let next = idx;
        const col = idx % COLS;
        const row = Math.floor(idx / COLS);

        if (e.key === 'd' || e.key === 'D') { if (col < COLS - 1) next = idx + 1; }
        else if (e.key === 'a' || e.key === 'A') { if (col > 0) next = idx - 1; }
        else if (e.key === 's' || e.key === 'S') { if (row < ROWS - 1) next = idx + COLS; }
        else if (e.key === 'w' || e.key === 'W') { if (row > 0) next = idx - COLS; }

        if (next !== idx) { e.preventDefault(); setPointer(next); }
      });
     </script>
  </body>

</html>